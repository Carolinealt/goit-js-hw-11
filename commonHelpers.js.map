{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const options = {\n  key: `21174821-fd3fd6848262c16aee96184b8`,\n  q: '',\n  image_type: `photo`,\n  orientations: `horizontal`,\n  safesearch: true,\n};\n\nconst { key, q, image_type, orientations, safesearch } = options;\n\nfunction createUrl(request) {\n  options.q = request;\n\n  return `https://pixabay.com/api/?key=${key}&q=${options.q}&image_type=${image_type}&orientation=${orientations}&safesearch=${safesearch}`;\n}\n\nfunction fetchImg(request) {\n  return fetch(`${createUrl(request)}`)\n    .then(r => {\n      return r.json();\n    })\n    .catch(e => console.log(e));\n}\n\nexport default fetchImg;\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\n\nfunction createMarkupElement({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<li class=\"gallery-item\">\n <a class=\"gallery-link\" href=\"${largeImageURL}\">  \n\n    <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"image\">\n    </img>\n  </a>\n        <ul class=\"stats-list\">\n            <li class=\"stats-item\">\n                <h3 class=\"stats-header\">Likes</h3>\n                <p class=\"stats-p\">${likes}</p>\n            </li>\n            <li class=\"stats-item\">\n                <h3 class=\"stats-header\">Views</h3>\n                <p class=\"stats-p\">${views}</p>\n            </li>\n            <li class=\"stats-item\">\n                <h3 class=\"stats-header\">Comments</h3>\n                <p class=\"stats-p\">${comments}</p>\n            </li>\n            <li class=\"stats-item\">\n                <h3 class=\"stats-header\">Downloads</h3>\n                <p class=\"stats-p\">${downloads}</p>\n            </li>\n        </ul>\n</li>`;\n}\n\nfunction joinArr(arr) {\n  return arr.join('');\n}\n\nfunction addDOM(str) {\n  gallery.insertAdjacentHTML('beforeend', str);\n}\n\nfunction addLightBox() {\n  const box = new SimpleLightbox('.gallery-link');\n  const a = document.querySelectorAll('.gallery-link');\n  a.forEach(element => {\n    element.SimpleLightbox;\n  });\n}\n\nfunction addHTML(params) {\n  params\n    .then(({ hits }) => hits)\n    .then(hits => {\n      return hits.map(createMarkupElement);\n    })\n    .then(joinArr)\n    .then(addDOM)\n    .then(addLightBox);\n}\n\nexport default addHTML;\n","import fetchImg from './js/pixabay-api';\nimport addHTML from './js/render-functions';\n\n\nconst refs = {\n  form: document.querySelector('.main-form'),\n  gallery: document.querySelector('.gallery'),\n};\nconst { form, gallery } = refs;\nform.addEventListener('submit', fetchRequest);\n\nfunction fetchRequest(e) {\n  e.preventDefault();\n  const inputValue = e.target.elements.request.value.trim();\n  if (!inputValue) {\n    return;\n  }\n\n  createElements(inputValue);\n}\n\nfunction createElements(inputValue) {\n  gallery.innerHTML = '';\n\n  let cardArray;\n  if (!fetchImg(inputValue)) {\n    return;\n  }\n\n  cardArray = fetchImg(inputValue);\n  console.log('из меина', cardArray);\n  addHTML(cardArray);\n}\n"],"names":["options","key","q","image_type","orientations","safesearch","createUrl","request","fetchImg","r","gallery","createMarkupElement","webformatURL","largeImageURL","tags","likes","views","comments","downloads","joinArr","arr","addDOM","str","addLightBox","SimpleLightbox","element","addHTML","params","hits","refs","form","fetchRequest","e","inputValue","createElements","cardArray"],"mappings":"svBAAA,MAAMA,EAAU,CACd,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,aAAc,aACd,WAAY,EACd,EAEM,CAAE,IAAAC,EAAK,EAAAC,EAAG,WAAAC,EAAY,aAAAC,EAAc,WAAAC,CAAY,EAAGL,EAEzD,SAASM,EAAUC,EAAS,CAC1B,OAAAP,EAAQ,EAAIO,EAEL,gCAAgCN,CAAG,MAAMD,EAAQ,CAAC,eAAeG,CAAU,gBAAgBC,CAAY,eAAeC,CAAU,EACzI,CAEA,SAASG,EAASD,EAAS,CACzB,OAAO,MAAM,GAAGD,EAAUC,CAAO,CAAC,EAAE,EACjC,KAAKE,GACGA,EAAE,MACV,EACA,MAAM,GAAK,QAAQ,IAAI,CAAC,CAAC,CAC9B,CCnBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAoB,CAC3B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,iCACwBL,CAAa;AAAA;AAAA,gBAE9BD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAMLC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qCAIRC,CAAS;AAAA;AAAA;AAAA,MAI9C,CAEA,SAASC,EAAQC,EAAK,CACpB,OAAOA,EAAI,KAAK,EAAE,CACpB,CAEA,SAASC,EAAOC,EAAK,CACnBZ,EAAQ,mBAAmB,YAAaY,CAAG,CAC7C,CAEA,SAASC,GAAc,CACT,IAAIC,EAAe,eAAe,EACpC,SAAS,iBAAiB,eAAe,EACjD,QAAQC,GAAW,CACnBA,EAAQ,cACZ,CAAG,CACH,CAEA,SAASC,EAAQC,EAAQ,CACvBA,EACG,KAAK,CAAC,CAAE,KAAAC,CAAM,IAAKA,CAAI,EACvB,KAAKA,GACGA,EAAK,IAAIjB,CAAmB,CACpC,EACA,KAAKQ,CAAO,EACZ,KAAKE,CAAM,EACX,KAAKE,CAAW,CACrB,CC9DA,MAAMM,EAAO,CACX,KAAM,SAAS,cAAc,YAAY,EACzC,QAAS,SAAS,cAAc,UAAU,CAC5C,EACM,CAAE,KAAAC,EAAM,QAAApB,CAAS,EAAGmB,EAC1BC,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMC,EAAaD,EAAE,OAAO,SAAS,QAAQ,MAAM,OAC9CC,GAILC,EAAeD,CAAU,CAC3B,CAEA,SAASC,EAAeD,EAAY,CAClCvB,EAAQ,UAAY,GAEpB,IAAIyB,EACC3B,EAASyB,CAAU,IAIxBE,EAAY3B,EAASyB,CAAU,EAC/B,QAAQ,IAAI,WAAYE,CAAS,EACjCT,EAAQS,CAAS,EACnB"}